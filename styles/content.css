/* 
  AEM CRXDE Lite - "Antigravity" Edition Theme
  Premium, sleek, and high-performance dark mode.
  Version 3.2 - "The Gradient Killer" Update
*/

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=JetBrains+Mono&display=swap');

:root {
    --anti-bg-deep: #08080a;
    --anti-bg-dark: #121217;
    --anti-bg-medium: #1c1c24;
    --anti-bg-light: #2a2a35;

    --anti-accent: #00d1ff;
    /* Antigravity Cyan */
    --anti-accent-soft: rgba(0, 209, 255, 0.2);
    --anti-accent-glow: rgba(0, 209, 255, 0.4);

    --anti-text-main: #e1e1e6;
    --anti-text-muted: #abb2bf;
    --anti-text-bright: #ffffff;

    --anti-border: #2a2a35;
    --anti-selection-bg: #005f7a;
    /* Selection color */
}

/* 1. MASTER GRADIENT & IMAGE KILLER */
/* This nukes the "old" ExtJS blue strips (which are usually background images) */
.x-panel-header,
.x-panel-tl,
.x-panel-tr,
.x-panel-tc,
.x-panel-ml,
.x-panel-mr,
.x-panel-mc,
.x-panel-bl,
.x-panel-br,
.x-panel-bc,
.x-tab-strip-wrap,
.x-tab-strip-inner,
.x-tab-right,
.x-tab-left,
.x-toolbar,
.x-toolbar-layout-ct,
.x-window-tl,
.x-window-tr,
.x-window-tc,
.x-window-ml,
.x-window-mr,
.x-window-mc,
.x-window-bl,
.x-window-br,
.x-window-bc,
#crx-header,
.crx-header {
    background-image: none !important;
    background-color: transparent !important;
}

/* Fix for the Path Bar and common "spacer" bars which often use .x-toolbar */
.crx-path-toolbar,
.x-toolbar-ct,
.x-panel-header-noborder {
    background: var(--anti-bg-dark) !important;
    background-image: none !important;
}

/* 2. Global Reset and Master Text Color */
* {
    border-color: var(--anti-border) !important;
    font-family: 'Inter', system-ui, sans-serif !important;
}

span,
div,
td,
a,
p,
h1,
h2,
h3,
label,
b,
i,
font {
    color: var(--anti-text-main) !important;
}

body,
.x-panel-body,
.x-border-layout-ct,
.x-panel-mc,
.x-tab-panel-body,
.x-panel-bwrap,
.x-layout-split,
.x-grid3-scroller,
.x-grid3-body,
.x-grid3-viewport,
.x-panel-nofss {
    background-color: var(--anti-bg-deep) !important;
    color: var(--anti-text-main) !important;
}

/* Selection and Highlight Fix */
::selection {
    background: var(--anti-selection-bg) !important;
    color: var(--anti-text-bright) !important;
}

.x-grid3-row-selected {
    background-color: var(--anti-selection-bg) !important;
    border: 1px solid var(--anti-accent) !important;
}

.x-grid3-row-over {
    background-color: var(--anti-bg-light) !important;
    background-image: none !important;
    border: 1px solid var(--anti-accent-soft) !important;
}

.x-grid3-row-selected *,
.x-grid3-row-over * {
    color: var(--anti-text-bright) !important;
}


/* 3. Modern Flat Headers (Replacing the "Blue Strips") */
.x-panel-header,
.x-window-header,
#crx-header,
.crx-header,
.x-panel-tl {
    background-color: var(--anti-bg-dark) !important;
    border-bottom: 1px solid var(--anti-border) !important;
    border-left: 2px solid var(--anti-accent) !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4) !important;
    padding: 4px 12px !important;
    min-height: 16px !important;
    margin-bottom: 0 !important;
}

/* Header Logo & Switcher Fix */
.crx-switcher {
    filter: invert(0.9) hue-rotate(180deg) brightness(1.8) contrast(1.2) !important;
    opacity: 0.8;
    transition: opacity 0.3s ease;
}

.crx-switcher:hover {
    opacity: 1;
}

.crx-home-link {
    background-image: none !important;
}

.crx-home-link:hover {
    background-color: rgba(255, 255, 255, 0.05) !important;
    box-shadow: inset 0 0 20px rgba(0, 209, 255, 0.1) !important;
}

/* Welcome Page Fixes */
/* Welcome Page Fixes - Modern Typography Edition */
#welcome .welcomepage {
    background-color: var(--anti-bg-deep) !important;
    background-image: none !important;
    position: relative;
}

#welcome .welcomepage::before {
    content: "CRXDE | LITE";
    position: absolute;
    top: 40px;
    left: 0;
    right: 0;
    text-align: center;
    font-family: 'Inter', system-ui, sans-serif !important;
    font-size: 42px !important;
    font-weight: 800 !important;
    letter-spacing: 12px !important;
    background: linear-gradient(135deg, var(--anti-accent) 0%, #ffffff 100%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0 10px 30px rgba(0, 209, 255, 0.3);
    text-transform: uppercase;
}

#welcome .welcomepage::after {
    content: "Content Repository Extreme Development Environment Lite";
    position: absolute;
    top: 95px;
    left: 0;
    right: 0;
    text-align: center;
    font-family: 'JetBrains Mono', monospace !important;
    font-size: 10px !important;
    color: var(--anti-accent) !important;
    letter-spacing: 8px !important;
    opacity: 0.6;
    font-weight: 400;
}

#welcome .content {
    padding-top: 160px !important;
    /* Push original content down below new title */
}

#welcome .content,
#welcome .res {
    background: transparent !important;
}

#welcome .content *,
#welcome .res *,
#welcome .resources-block-wrapper,
#welcome .resources-block-wrapper * {
    color: var(--anti-text-main) !important;
}

#welcome h1,
#welcome h2,
#welcome h3,
#welcome .resources-block-wrapper h3 {
    color: var(--anti-accent) !important;
    font-weight: 600 !important;
}

#welcome .resources-block-wrapper,
#welcome .resources-block {
    background-color: var(--anti-bg-dark) !important;
    background-image: none !important;
    border: 1px solid var(--anti-border) !important;
    border-radius: 4px;
}

#welcome a {
    color: var(--anti-accent) !important;
}

#welcome a:hover {
    color: var(--anti-text-bright) !important;
    text-decoration: underline !important;
}

.x-panel-header-text,
.x-window-header-text {
    color: var(--anti-accent) !important;
    font-weight: 600 !important;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-size: 11px !important;
}

/* 4. Tab Strip (The Editor Tabs) */
.x-tab-panel-header,
.x-tab-strip-top {
    background-color: var(--anti-bg-dark) !important;
    padding-top: 5px !important;
    border-bottom: 1px solid var(--anti-accent) !important;
    box-shadow: 0 2px 10px var(--anti-accent-soft) !important;
    /* Neon Tab Glow */
}

ul.x-tab-strip li {
    background-color: var(--anti-bg-medium) !important;
    border: 1px solid var(--anti-border) !important;
    border-bottom: none !important;
    margin-right: 2px;
    border-radius: 4px 4px 0 0;
}

ul.x-tab-strip li.x-tab-strip-active {
    background-color: var(--anti-bg-deep) !important;
    border-top: 2px solid var(--anti-accent) !important;
    margin-top: -2px;
}

.x-tab-strip span.x-tab-strip-text {
    color: var(--anti-text-muted) !important;
    font-size: 11px !important;
    padding: 8px 12px !important;
}

.x-tab-strip-active span.x-tab-strip-text {
    color: var(--anti-accent) !important;
    font-weight: 600 !important;
}

/* 5. Toolbars (The "Save All", "Create" bar) */
.x-toolbar,
#toolbar {
    background-color: var(--anti-bg-dark) !important;
    border-bottom: 1px solid var(--anti-border) !important;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5) !important;
    position: relative;
    z-index: 10;
}

.x-btn-text {
    color: var(--anti-text-main) !important;
    filter: brightness(1.2);
}

/* 6. Navigation Sidebar visibility */
#crx-navigation-tree,
.x-tree-root-node,
.x-tree-node-ct,
.x-tree-node-el,
.x-tree-root-ct {
    background-color: var(--anti-bg-dark) !important;
}

.x-tree-node-anchor span,
.x-tree-node-el span {
    color: var(--anti-text-main) !important;
}

/* Tree Node Hover Effect */
.x-tree-node-over {
    background-color: var(--anti-bg-light) !important;
    border-radius: 4px;
    box-shadow: inset 0 0 5px var(--anti-accent-soft) !important;
}

.x-tree-node-over .x-tree-node-anchor span {
    color: var(--anti-text-bright) !important;
}

.x-tree-selected {
    background-color: var(--anti-accent-soft) !important;
    border-left: 2px solid var(--anti-accent) !important;
}

/* 7. Icons (Hyper Modern Neon Update) */
/* This transforms old legacy icons into sleek, themed elements */
img[src*="icons"],
.x-tree-node-icon,
.x-grid3-col-icon,
.x-tab-strip-close,
.x-tool {
    filter: invert(1) hue-rotate(180deg) brightness(1.2) contrast(1.2) !important;
    opacity: 0.7;
    transition: all 0.2s ease-in-out !important;
}

/* Icons on Hover - Ignition Effect */
img[src*="icons"]:hover,
.x-tree-node-el:hover .x-tree-node-icon,
.x-grid3-row-over .x-grid3-col-icon,
.x-tab-strip-over .x-tab-strip-close {
    filter: invert(1) hue-rotate(180deg) brightness(2) drop-shadow(0 0 5px var(--anti-accent)) !important;
    opacity: 1;
    transform: scale(1.1);
}

/* Active/Selected Icons - Sustained Glow */
.x-tree-selected .x-tree-node-icon,
.x-tab-strip-active .x-tab-strip-close,
.x-grid3-row-selected .x-grid3-col-icon {
    filter: invert(1) hue-rotate(180deg) brightness(2) drop-shadow(0 0 8px var(--anti-accent-glow)) !important;
    opacity: 1;
}

/* Node Type Icon Polish (Using Classes) */
.x-tree-node-icon.folder {
    filter: invert(1) hue-rotate(180deg) sepia(0.5) saturate(5) brightness(1.2) !important;
}

.x-tree-node-icon.file {
    filter: invert(1) grayscale(1) brightness(1.8) !important;
}

.x-tree-node-icon.unstructured {
    filter: invert(1) hue-rotate(180deg) brightness(1.2) contrast(1.2) !important;
}

/* 7.1 TRIDDERS & ACTION ICONS (Search, Add, Clear, Dropdown) */
.x-form-trigger,
.x-form-arrow-trigger,
.x-form-search-trigger,
.x-form-clear-trigger,
.x-form-date-trigger {
    filter: invert(1) hue-rotate(180deg) brightness(1.5) !important;
    border-bottom: none !important;
    opacity: 0.8;
}

.x-form-trigger:hover {
    opacity: 1;
    filter: invert(1) hue-rotate(180deg) brightness(2) drop-shadow(0 0 5px var(--anti-accent)) !important;
}

/* Semantic Action Icons (Add/Clear) */
.x-btn-text.add,
button.add,
.x-btn-text.refresh,
img[src*="add"],
img[src*="plus"] {
    filter: invert(1) hue-rotate(80deg) brightness(1.5) contrast(1.2) drop-shadow(0 0 3px #00ff88) !important;
}

.x-btn-text.clear,
button.clear,
.x-btn-text.delete,
img[src*="clear"],
img[src*="remove"],
img[src*="delete"] {
    filter: invert(1) hue-rotate(300deg) brightness(1.2) contrast(1.2) drop-shadow(0 0 3px #ff5555) !important;
}

/* Search Icon in Inputs */
.x-form-search-trigger {
    background-color: var(--anti-bg-medium) !important;
    box-shadow: inset 0 0 5px var(--anti-accent-soft) !important;
}

/* The Magnifier in the Search Bar (Welcome & Top Right) */
img[src*="search"],
img[src*="magnifier"],
.x-form-search-trigger {
    filter: invert(1) hue-rotate(180deg) brightness(1.8) drop-shadow(0 0 5px var(--anti-accent)) !important;
}

/* Dropdown Arrow Polish */
.x-form-arrow-trigger,
.x-grid3-hd-btn {
    filter: invert(1) hue-rotate(180deg) brightness(2) !important;
    background-color: var(--anti-bg-medium) !important;
}

.x-grid3-hd-btn:hover {
    background-color: var(--anti-accent) !important;
    filter: invert(0) brightness(1) !important;
}

/* 8. Grid & Properties Table */
.x-grid3-header {
    background-color: var(--anti-bg-dark) !important;
}

.x-grid3-hd-inner {
    color: var(--anti-accent) !important;
    font-size: 10px !important;
    text-transform: uppercase;
}

.x-grid3-row {
    background-color: var(--anti-bg-dark) !important;
    border-color: var(--anti-bg-deep) !important;
    border-top-color: var(--anti-bg-deep) !important;
    border-bottom: 1px solid var(--anti-border) !important;
}

/* Protected row visibility fix */
.x-grid3-row.protected {
    color: var(--anti-text-muted) !important;
}

.x-grid3-row-alt {
    background-color: var(--anti-bg-deep) !important;
}

/* Row Numberer Fix */
.x-grid3-row-numberer {
    background: var(--anti-bg-medium) !important;
    color: var(--anti-accent) !important;
    border-right: 1px solid var(--anti-border) !important;
}

/* Row Table Fix */
.x-grid3-row-table {
    background-color: transparent !important;
}

/* 7. Inputs - FORCE DARK */
.x-form-text,
.x-form-field,
.x-form-item-input-wrapper input,
input[type="text"],
textarea,
select {
    background-color: var(--anti-bg-medium) !important;
    background-image: none !important;
    color: var(--anti-text-bright) !important;
    border: 1px solid var(--anti-border) !important;
}

.x-form-focus {
    border-color: var(--anti-accent) !important;
}

/* 9. CodeMirror Syntax Force */
.CodeMirror {
    background: var(--anti-bg-deep) !important;
    color: var(--anti-text-main) !important;
    font-family: 'JetBrains Mono', monospace !important;
}

/* Fix for invisible text when selected in CodeMirror */
.CodeMirror-selected {
    background-color: var(--anti-selection-bg) !important;
}

.CodeMirror-selectedtext {
    color: var(--anti-text-bright) !important;
    text-shadow: none !important;
}

.CodeMirror-focused .CodeMirror-selected {
    background-color: var(--anti-selection-bg) !important;
}

::selection {
    background-color: var(--anti-selection-bg) !important;
    color: var(--anti-text-bright) !important;
}

.CodeMirror-line::selection,
.CodeMirror-line>span::selection,
.CodeMirror-line>span>span::selection {
    background-color: var(--anti-selection-bg) !important;
    color: var(--anti-text-bright) !important;
}

.CodeMirror-gutters {
    background: var(--anti-bg-dark) !important;
    border-right: 1px solid var(--anti-border) !important;
}

.CodeMirror-cursor {
    border-left: 3px solid var(--anti-accent) !important;
}

/* High-contrast colors for code tokens (VS Code Dark+ Style) */

/* Keywords (if, var, etc.) */
.cm-keyword {
    color: #569cd6 !important;
}

/* Strings ("hello", 'world') */
.cm-string,
.cm-string-2 {
    color: #ce9178 !important;
}

/* Comments */
.cm-comment {
    color: #6a9955 !important;
    font-style: italic !important;
}

/* Variables */
.cm-variable {
    color: #9cdcfe !important;
}

/* Variables (Level 2/Properties) */
.cm-variable-2,
.cm-property {
    color: #9cdcfe !important;
}

/* Variables (Level 3/Definitions) */
.cm-variable-3,
.cm-def {
    color: #4ec9b0 !important;
}

/* HTML/XML Tags (<div, </span) */
.cm-tag {
    color: #569cd6 !important;
}

/* HTML/XML Attributes (class="", id="") */
.cm-attribute {
    color: #9cdcfe !important;
}

/* Numbers (123, 4.5) */
.cm-number {
    color: #b5cea8 !important;
}

/* Operators (+, -, =, ==) */
.cm-operator {
    color: #d4d4d4 !important;
}

/* Punctuation ((), {}, []) */
.cm-punctuation {
    color: #d4d4d4 !important;
}

/* Qualifiers (classes in CSS like .my-class) */
.cm-qualifier {
    color: #d7ba7d !important;
}

/* Meta (@media, <!DOCTYPE) */
.cm-meta {
    color: #569cd6 !important;
}

/* Function calls */
.cm-property.cm-function {
    color: #dcdcaa !important;
}

/* HTL specific / Expression Language (e.g. ${...}) */
/* HTL expressions often fall into regular tags/attributes but we can try to style brackets */
.cm-bracket {
    color: #ffd700 !important;
}

/* Make template brackets stand out slightly */

/* 10. Scrollbars */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: var(--anti-bg-light);
    border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--anti-accent);
}

/* 11. Floating Layers & Dropdown Menus (Glassmorphism Update) */
.x-layer,
.x-combo-list,
.x-menu-list,
.x-tip {
    background-color: rgba(18, 18, 23, 0.9) !important;
    /* Semi-transparent dark bg */
    backdrop-filter: blur(10px) !important;
    border: 1px solid var(--anti-border) !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.8), 0 0 1px rgba(0, 209, 255, 0.2) !important;
    border-radius: 6px !important;
}

/* Menu Item Highlighting */
.x-menu-item-active {
    background-color: var(--anti-accent-soft) !important;
    background-image: none !important;
    border: 1px solid var(--anti-accent) !important;
    border-radius: 4px;
    box-shadow: 0 0 10px var(--anti-accent-soft), inset 0 0 5px var(--anti-accent-soft) !important;
    transition: all 0.2s ease !important;
}

.x-menu-item-active a.x-menu-item {
    color: var(--anti-text-bright) !important;
    text-shadow: 0 0 5px var(--anti-accent) !important;
}

/* Menu Icons (Sort, Columns, etc.) */
.x-menu-item-icon {
    filter: invert(1) hue-rotate(180deg) brightness(1.5) !important;
}

/* Checkboxes in Menus */
.x-menu-item-checked .x-menu-item-icon {
    filter: invert(1) hue-rotate(180deg) brightness(2) drop-shadow(0 0 5px var(--anti-accent)) !important;
    background-image: none !important;
    /* Killer for the old blue check bg */
    background-color: var(--anti-accent) !important;
    -webkit-mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>');
    mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>');
    -webkit-mask-size: 80%;
    mask-size: 80%;
    -webkit-mask-repeat: no-repeat;
    mask-repeat: no-repeat;
    -webkit-mask-position: center;
    mask-position: center;
}

/* Menu Separators */
.x-menu-sep {
    background-color: var(--anti-border) !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05) !important;
}

/* Submenu Arrows */
.x-menu-item-arrow {
    filter: invert(1) hue-rotate(180deg) brightness(2) !important;
}

.x-combo-list-inner {
    background-color: var(--anti-bg-dark) !important;
}

.x-combo-list-item {
    color: var(--anti-text-main) !important;
    background-color: transparent !important;
    border: none !important;
    padding: 5px 10px !important;
}

.x-combo-list-item.x-combo-selected {
    background-color: var(--anti-accent-soft) !important;
    color: var(--anti-text-bright) !important;
    border: 1px solid var(--anti-accent) !important;
    box-shadow: 0 0 12px var(--anti-accent-soft) !important;
    text-shadow: 0 0 5px var(--anti-accent) !important;
}

/* Validation Tooltips & Messages */
.x-form-invalid-msg {
    color: #e06c75 !important;
    /* Soft Red */
    background-color: var(--anti-bg-dark) !important;
}

.x-tip,
.x-tip-bc,
.x-tip-mc,
.x-tip-tc,
.x-tip-ml,
.x-tip-mr,
.x-tip-bl,
.x-tip-br,
.x-tip-tl,
.x-tip-tr {
    background-image: none !important;
    background-color: var(--anti-bg-medium) !important;
    border-color: var(--anti-border) !important;
}

/* 12. NUCLEAR OVERRIDE (FORCE MODE) */
html body .x-grid3-row,
html body .x-grid3-row-table {
    background-color: var(--anti-bg-dark) !important;
    background-image: none !important;
    border-color: var(--anti-bg-deep) !important;
    border-top-color: var(--anti-bg-deep) !important;
    border-bottom: 1px solid var(--anti-border) !important;
    color: var(--anti-text-bright) !important;
}

/* Grid Header Power-Up */
html body .x-grid3-header {
    background-color: var(--anti-bg-dark) !important;
    background-image: none !important;
    border-top: 2px solid var(--anti-accent) !important;
    /* Neon Top Border */
    box-shadow: 0 -2px 8px var(--anti-accent-soft) !important;
    /* Upward Glow */
}

html body .x-grid3-hd-inner {
    background-image: none !important;
    color: var(--anti-accent) !important;
    font-weight: 600 !important;
}

html body .x-grid3-hd-value,
html body .x-grid3-hd-name {
    color: var(--anti-text-bright) !important;
    font-weight: 800 !important;
    /* Extra thick as requested */
}

html body .x-grid3-row-td-numberer,
html body .x-grid3-row-numberer,
html body .x-grid3-td-numberer,
html body td.x-grid3-td-numberer {
    background-color: var(--anti-bg-deep) !important;
    background-image: none !important;
    color: var(--anti-accent) !important;
    border-right: 1px solid var(--anti-border) !important;
    font-size: 11px !important;
    font-weight: bold !important;
}

/* Header Hover Fix (No more white-mask) */
html body .x-grid3-hd-over .x-grid3-hd-inner,
html body .sort-desc .x-grid3-hd-inner,
html body .sort-asc .x-grid3-hd-inner {
    background-color: var(--anti-bg-light) !important;
    background-image: none !important;
    border-bottom: 2px solid var(--anti-accent) !important;
}

/* 13. Button "Image Killer" & Visibility */
html body .x-btn-tl,
html body .x-btn-tr,
html body .x-btn-tc,
html body .x-btn-ml,
html body .x-btn-mr,
html body .x-btn-mc,
html body .x-btn-bl,
html body .x-btn-br,
html body .x-btn-bc {
    background-image: none !important;
    background-color: var(--anti-bg-medium) !important;
}

/* Tab Strip Image Killer (Nuclear Force) */
html body .x-tab-strip-top,
html body .x-tab-strip-wrap,
html body ul.x-tab-strip-top {
    background-color: var(--anti-bg-dark) !important;
    background-image: none !important;
    /* Kills tab-strip-bg.gif */
    border-top: 2px solid var(--anti-accent) !important;
    /* Neon Top Border */
    box-shadow: 0 -4px 12px var(--anti-accent-soft) !important;
    /* Upward Neon Glow */
}

html body .x-btn-text,
html body button.x-btn-text {
    color: var(--anti-text-bright) !important;
    filter: none !important;
}

/* Button Hover - ULTRA PROMINENT */
html body .x-btn-over .x-btn-tl,
html body .x-btn-over .x-btn-tr,
html body .x-btn-over .x-btn-tc,
html body .x-btn-over .x-btn-ml,
html body .x-btn-over .x-btn-mr,
html body .x-btn-over .x-btn-mc,
html body .x-btn-over .x-btn-bl,
html body .x-btn-over .x-btn-br,
html body .x-btn-over .x-btn-bc {
    background-color: var(--anti-accent) !important;
    /* Full Electric Cyan background */
    background-image: none !important;
    transition: all 0.2s ease !important;
}

html body .x-btn-over .x-btn-text,
html body .x-btn-over button.x-btn-text {
    color: #000000 !important;
    /* High-contrast Black text */
    font-weight: 800 !important;
}

html body .x-btn-over .x-btn-mc {
    box-shadow: 0 0 15px var(--anti-accent) !important;
    /* Prominent Cyan Glow */
    border-radius: 4px;
}

html body .x-grid3-row-selected,
html body .x-grid3-row-selected .x-grid3-row-table,
html body .x-grid3-row-selected .x-grid3-cell,
html body .x-grid3-row-selected .x-grid3-row-td-numberer,
html body .x-grid3-row-selected td.x-grid3-td-numberer {
    background-color: var(--anti-selection-bg) !important;
    background-image: none !important;
    border: 1px solid var(--anti-accent) !important;
    color: var(--anti-text-bright) !important;
}

html body .x-grid3-row-over,
html body .x-grid3-row-over .x-grid3-row-table {
    background-color: var(--anti-bg-light) !important;
    background-image: none !important;
    border: 1px solid var(--anti-accent) !important;
    /* Prominent Solid Cyan Border */
    box-shadow: inset 0 0 8px var(--anti-accent-soft) !important;
}

html body .x-grid3-row.protected,
html body .x-grid3-row.protected .x-grid3-cell-inner {
    color: var(--anti-text-main) !important;
    opacity: 0.9 !important;
}

html body .x-grid3-cell-inner,
html body .x-grid3-row td {
    color: inherit !important;
}

/* 14. Neon Collapsed Layouts */
html body .x-layout-collapsed {
    background-color: var(--anti-bg-dark) !important;
    background-image: none !important;
    border: 1px solid var(--anti-accent) !important;
    box-shadow: inset 0 0 10px var(--anti-accent-soft), 0 0 5px var(--anti-accent-soft) !important;
}

html body .x-layout-collapsed-over {
    background-color: var(--anti-bg-light) !important;
    border-color: var(--anti-accent) !important;
    box-shadow: 0 0 15px var(--anti-accent-glow) !important;
}

/* Collapse Bar Tools (Icons) */
html body .x-layout-collapsed .x-tool {
    filter: invert(1) hue-rotate(180deg) brightness(1.5) drop-shadow(0 0 2px var(--anti-accent)) !important;
}

/* Splitters (The dragging bars) */
html body .x-splitbar-h,
html body .x-splitbar-v {
    background-color: var(--anti-bg-deep) !important;
    background-image: none !important;
}

html body .x-layout-mini {
    background-color: var(--anti-accent) !important;
    filter: brightness(1.2);
}

/* 15. AEM PACKAGE MANAGER (PACKMGR) SPECIFIC OVERRIDES */

/* Sidebar */
.sidebargroup h2 {
    color: var(--anti-accent) !important;
    font-size: 14px !important;
    border-bottom: 1px solid var(--anti-accent-soft) !important;
    padding-bottom: 5px !important;
    margin-bottom: 10px !important;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.sidebargroup ul {
    border-top: none !important;
    color: var(--anti-text-main) !important;
}

.sidebargroup li {
    border-bottom: 1px solid var(--anti-border) !important;
    transition: all 0.2s ease;
}

.sidebargroup .inner {
    color: var(--anti-text-muted) !important;
    padding: 8px 12px !important;
}

.sidebargroup .inner:hover {
    color: var(--anti-text-bright) !important;
    background-color: var(--anti-bg-light) !important;
}

.sidebargroup li.x-view-selected .inner {
    background-color: var(--anti-selection-bg) !important;
    color: var(--anti-text-bright) !important;
    border-left: 3px solid var(--anti-accent) !important;
}

/* Package List */
.package-list .package {
    background-color: var(--anti-bg-dark) !important;
    border: 1px solid var(--anti-border) !important;
    border-radius: 8px !important;
    padding: 20px !important;
    margin-bottom: 25px !important;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4) !important;
    width: 95% !important;
    /* Make it more responsive */
    transition: transform 0.2s ease, border-color 0.2s ease;
}

.package-list .package:hover {
    border-color: var(--anti-accent-soft) !important;
    transform: translateY(-2px);
}

.package-list .package h3 {
    color: var(--anti-accent) !important;
    font-size: 16px !important;
    font-weight: 600 !important;
}

.package-list .package .smallinfo {
    color: var(--anti-text-muted) !important;
}

.package-list .package .description {
    color: var(--anti-text-main) !important;
    margin-top: 10px !important;
    line-height: 1.6 !important;
}

/* Action Buttons in Packmgr */
.package-list .package .action-btn {
    border-radius: 4px !important;
    border: 1px solid transparent !important;
    transition: all 0.2s ease !important;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2) !important;
}

.package-list .package .action-btn.installed-modified,
.package-list .package .action-btn.modified,
.package-list .package .action-btn.added {
    color: var(--anti-text-bright) !important;
    background: var(--anti-bg-medium) !important;
    border-color: var(--anti-accent) !important;
}

.package-list .package .action-btn.installed,
.package-list .package .action-btn.ok {
    color: #00ff88 !important;
    /* Success Green */
    background: rgba(0, 255, 136, 0.1) !important;
    border-color: rgba(0, 255, 136, 0.3) !important;
}

.package-list .package .action-btn:hover {
    filter: brightness(1.2) !important;
    box-shadow: 0 0 10px var(--anti-accent-soft) !important;
}

/* Details and Properties Table */
.package .details table.properties {
    background-color: var(--anti-bg-deep) !important;
    border-radius: 4px !important;
    overflow: hidden !important;
}

.package .details table.properties tr {
    border-bottom: 1px solid var(--anti-border) !important;
}

.package .details table.properties td {
    padding: 8px !important;
    color: var(--anti-text-main) !important;
}

.package .details table.properties td.name {
    color: var(--anti-accent) !important;
    font-weight: 600 !important;
}

/* Activity Log in Packmgr */
.activity-log .x-panel-body {
    background-color: var(--anti-bg-deep) !important;
    border: 1px solid var(--anti-border) !important;
    color: var(--anti-text-muted) !important;
    font-family: 'JetBrains Mono', monospace !important;
}

.activity-log span.E,
.activity-log .error {
    color: #ff5555 !important;
    /* Error Red */
}

/* Filters View */
.filter-view .x-panel-body {
    background-color: var(--anti-bg-dark) !important;
}

.filter-view .rules-table {
    background-color: var(--anti-bg-deep) !important;
    border-radius: 4px !important;
    color: var(--anti-text-main) !important;
}

.filter-view .rules-table .include {
    color: #00ff88 !important;
}

.filter-view .rules-table .exclude {
    color: #ff5555 !important;
}

/* Versions Dialog */
.versions-dlg .x-window-body {
    background-color: var(--anti-bg-dark) !important;
}

.versions-dlg .package {
    border-bottom: 1px solid var(--anti-border) !important;
}

/* Buttons in dialogs */
.x-window-bbar .x-toolbar,
.x-window-footer .x-toolbar {
    background-color: var(--anti-bg-dark) !important;
}